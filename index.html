<!doctype html>
<html lang="it">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>Flip7 Pixel</title>
  <link rel="stylesheet" href="./src/style.css" />
</head>

<body>
  <div id="game-alerts" aria-live="polite" aria-atomic="true"></div>
  <div id="fx-layer" aria-hidden="true"></div>

  <!-- Target modal -->
  <div id="target-modal" class="modal-overlay" style="display:none">
    <div class="modal-content pixel-panel">
      <div class="panel-title" id="modal-title">Scegli un bersaglio</div>
      <div id="modal-special-icon" class="modal-special-icon" aria-hidden="true" style="display:none"></div>
      <div id="target-options" class="modal-options"></div>
      <button id="modal-close" class="px-btn px-btn-secondary" type="button" style="display:none">Chiudi</button>
    </div>
  </div>

  <!-- Info modal -->
  <div id="info-modal" class="modal-overlay" style="display:none">
    <div class="modal-content pixel-panel">
      <div class="panel-title" data-i18n="ui.infoTitle">INFO REGOLE & MATCH</div>

      <div class="info-block pixel-panel inset">
        <div class="section-title" data-i18n="ui.rulesTitle">REGOLE RAPIDE</div>
        <div class="info-text" data-i18n="ui.rulesText">
          Nel tuo turno: PESCA oppure FERMATI (banchi i punti del tavolo).
          Se peschi un numero gi√† presente sul tuo tavolo: DOPPIONE ‚Üí SBALLATO e perdi il tavolo.
          2ND CHANCE annulla un solo doppione poi si consuma.
          FREEZE obbliga un bersaglio a bancare subito i suoi punti tavolo.
          FLIP3 fa pescare 3 carte al bersaglio (si tronca se sballa o fa FLIP7).
          FLIP7: 7 numeri diversi ‚Üí +15 e il round finisce.
          Match: finisce quando qualcuno arriva a 200 (a fine round).
        </div>
      </div>

      <button id="info-close" class="px-btn px-btn-secondary" type="button" data-i18n="ui.close">CHIUDI</button>
    </div>
  </div>

  <!-- Mobile chat modal -->
  <div id="chat-modal" class="modal-overlay" style="display:none">
    <div class="modal-content pixel-panel">
      <div class="panel-title" data-i18n="ui.chat">CHAT</div>

      <div id="chat-messages-mobile" class="chat-messages" role="log" aria-live="polite"></div>

      <div class="chat-input-row">
        <input id="chat-text-mobile" class="chat-text" type="text" maxlength="120" autocomplete="off"
          placeholder="Scrivi..." />
        <button id="chat-send-mobile" class="px-btn px-btn-secondary" type="button" data-i18n="ui.send">INVIA</button>
      </div>

      <button id="chat-close-mobile" class="px-btn px-btn-secondary" type="button" data-i18n="ui.close">CHIUDI</button>
    </div>
  </div>

  <!-- Endgame modal -->
  <div id="endgame-modal" class="modal-overlay" style="display:none">
    <div class="modal-content pixel-panel">
      <div class="panel-title" id="endgame-title" data-i18n="ui.gameOver">PARTITA FINITA</div>

      <div class="pixel-panel inset" style="padding:10px">
        <div class="section-title" data-i18n="ui.ranking">CLASSIFICA</div>
        <div id="endgame-ranking" class="endgame-ranking"></div>
      </div>

      <div id="endgame-host-actions" style="display:none; margin-top:10px">
        <button id="endgame-newgame" class="px-btn px-btn-primary" type="button" data-i18n="ui.newGame">NUOVA
          PARTITA</button>
      </div>

      <button id="endgame-close" class="px-btn px-btn-secondary" type="button" style="margin-top:10px"
        data-i18n="ui.close">CHIUDI</button>
    </div>
  </div>

  <div id="app">
    <header class="topbar pixel-panel">
      <div class="top-left">
        <div class="logo">FLIP7</div>
        <div class="sub">Pixel Edition</div>
      </div>

      <div class="top-mid pixel-panel inset">
        <div class="topline">
          <span class="tag" data-i18n="ui.points">PUNTI</span>
          <span id="my-score" class="score">0</span>

          <span class="tag" data-i18n="ui.round">ROUND</span>
          <span id="round-score" class="score">0</span>

          <span id="sc-indicator" class="pill" style="display:none">2ND</span>

          <button id="btn-lang" class="lang-btn" type="button">IT</button>
        </div>

        <div class="matchbar">
          <div class="matchrow">
            <span class="tag" data-i18n="ui.matchRound">ROUND</span>
            <span id="match-round" class="matchval">1</span>

            <span class="tag" data-i18n="ui.target">TARGET</span>
            <span id="match-target" class="matchval">200</span>
          </div>

          <div class="matchrow">
            <span id="match-status" class="matchstatus"></span>
          </div>
        </div>

        <div id="lock-banner"></div>
        <div id="status-bar" class="status">Caricamento...</div>
      </div>

      <div class="top-right pixel-panel inset">
        <div id="deck-info" class="deck"></div>
        <button id="btn-info" class="px-btn px-btn-secondary" type="button" data-i18n="ui.info">INFO</button>
        <div id="turn-tip" class="tip"></div>
      </div>
    </header>

    <main class="layout">
      <aside class="sidebar">
        <section class="chat pixel-panel inset" aria-label="Chat di gioco">
          <div class="section-title" data-i18n="ui.chat">CHAT</div>
          <div id="chat-messages-desktop" class="chat-messages" role="log" aria-live="polite"></div>
          <div class="chat-input-row">
            <input id="chat-text-desktop" class="chat-text" type="text" maxlength="120" autocomplete="off"
              placeholder="Scrivi..." />
            <button id="chat-send-desktop" class="px-btn px-btn-secondary" type="button"
              data-i18n="ui.send">INVIA</button>
          </div>
          <div class="chat-hint" data-i18n="ui.chatHint">Invio per mandare ‚Ä¢ Max 120</div>
        </section>

        <section class="legend pixel-panel inset">
          <div class="legend-row"><span class="ic">‚ùÑÔ∏è</span><span data-i18n="ui.legFreeze">Freeze banca i punti del
              tavolo.</span></div>
          <div class="legend-row"><span class="ic">üéÅ</span><span data-i18n="ui.legFlip3">Flip3 pesca 3 carte.</span>
          </div>
          <div class="legend-row"><span class="ic">üõ°Ô∏è</span><span data-i18n="ui.legSecond">2nd Chance salva da un
              doppione.</span></div>
          <div class="legend-row"><span class="ic">‚ú®</span><span data-i18n="ui.legFlip7">Flip7 +15 e finisce il
              round.</span></div>
        </section>
      </aside>

      <section class="center">
        <section class="players pixel-panel">
          <div class="section-title" data-i18n="ui.table">TABLE</div>
          <div id="global-rank" class="rank"></div>
        </section>

        <section class="table pixel-panel">
          <div class="section-title" data-i18n="ui.yourTable">YOUR TABLE</div>
          <!-- SCROLL ORIZZONTALE -->
          <div id="card-display" class="cards"></div>
        </section>
      </section>
    </main>

    <footer class="bottombar pixel-panel">
      <button id="btn-pesca" class="px-btn px-btn-primary" type="button" disabled data-i18n="ui.draw">PESCA</button>
      <button id="btn-stop" class="px-btn px-btn-danger" type="button" disabled data-i18n="ui.bank">FERMATI</button>
    </footer>
  </div>

  <button id="mobile-chat-fab" class="mobile-fab" type="button">CHAT</button>

  <script type="module" src="./src/js/main.js"></script>
</body>

</html>